<!DOCTYPE html>
<html lang="pt-br" class="ls-theme-green documentacao documentacao_funcoes-js documentacao_funcoes-js_event-dispatcher documentacao_funcoes-js_event-dispatcher_index">
<head>
  <meta charset="UTF-8">
  <title>Event Dispatcher</title>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="description" content="Roda funções de acordo com os eventos disparados" />
  <meta name="keywords" content="" />

  <link href="../../../assets/stylesheets/docs.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="/locawebstyle/assets/stylesheets/locastyle.css">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-41233562-1', 'auto');
    ga('send', 'pageview');

  </script>
</head>
<body>


<header class="doc-header container">
  <nav class="doc-menu">
  <span class="sandwich"></span>
  <ul>
    <li><a href="/locawebstyle">Home</a></li>
    <li><a href="/locawebstyle/documentacao/introducao/">Documentação</a></li>
    <li><a href="/locawebstyle/documentacao/introducao/boilerplate/">Comece por aqui</a></li>
    <li><a href="https://github.com/locaweb/locawebstyle/releases">Changelog</a></li>
    <li><a href="http://locaweb.github.io/locawebstyle-v1/">Documentação V1</a></li>
    <li><a href="http://locaweb.github.io/locawebstyle-v2/">Documentação V2</a></li>
  </ul>
</nav>

  <h1 class="doc-logo"><a href="/locawebstyle/"><strong>Locaweb</strong> Style</a></h1>
</header>

<div class="doc-title-intro">
  <div class="container">
    <h1>Documentação</h1>
    <p>Saiba todas as features que te ajudarão a produzir sistemas mais rapidamente.</p>
  </div>
</div>

<nav class="doc-menu-top">
  <div class="container">
    <ul>
      <li class=''><a class='' href='/locawebstyle/documentacao/introducao/'>Introdução</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/css/grid/'>CSS</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/'>Funções JS</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/componentes/estrutura-principal/'>Componentes</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/formularios/'>Formulários</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/exemplos/'>Telas de Exemplo</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/cartilha-de-elementos/'>Cartilha de Elementos</a></li>
    </ul>
  </div>
</nav>


<div class="doc-content container">
  <div class="row">
    <aside class="doc-sidebar col-md-3">
<div class="doc-sidebar-inner">
  <nav class="doc-sidebar-menu">
    <ul>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/'>Iniciando Funções JS (ajax)</a></li>
      <li class='active'><a class='active' href='/locawebstyle/documentacao/funcoes-js/event-dispatcher/'>Event Dispatcher</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/alternar-classes/'>Alternar Classes</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/alternar-textos/'>Alternar textos</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/rastreando-eventos/'>Track Eventos do GA</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/dismiss/'>Dismiss</a></li>
      <li class=''><a class='' href='/locawebstyle/documentacao/funcoes-js/auto-trigger/'>Clique automático</a></li>
    </ul>
  </nav>
</div>
</aside>


<section class="col-md-9">

	<div class="doc-intro-content">
  <h1>Event Dispatcher</h1>
  <p>Roda funções de acordo com os eventos disparados</p>
</div>


<p>
	Algumas funções do Locaweb Style são ativadas apenas quando alguns eventos customizados do framework são disparados. Você pode ver uma lista dos eventos disparados abaixo ou nas páginas dos próprios módulos. 
</p>
<p>
	Existe uma função chamada eventDispatcher, simples, onde o framework cadastra e roda as funções de acordo com os eventos diparados. Se você contribuir conosco e precisar criar um evento customizado, você pode fazer dessa forma:
	
</p>
<div class="highlight javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="nx">ls</span><span class="p">.</span><span class="nx">eventDispatcher</span><span class="p">.</span><span class="nx">eventSubscribe</span><span class="p">(</span><span class="s1">'oneEvent'</span><span class="p">,</span> <span class="nx">functionCallBackName</span><span class="p">);</span>
<span class="nx">ls</span><span class="p">.</span><span class="nx">eventDispatcher</span><span class="p">.</span><span class="nx">eventSubscribe</span><span class="p">(</span><span class="s1">'otherEvent'</span><span class="p">,</span> <span class="nx">otherFunctionName</span><span class="p">);</span>
</pre></td></tr></tbody></table>
</div>

 <p>Seguindo nossa estrutura, fica assim:</p>

<div class="highlight javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><pre><span class="kd">function</span> <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">someFunction</span><span class="p">();</span>
  <span class="nx">registerEvents</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">someFunction</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// This function fire a event when the Window is fully loaded.</span>
  <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">ls</span><span class="p">.</span><span class="nx">eventDispatcher</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'oneEvent'</span><span class="p">)</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">functionCallBackName</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'do something'</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">registerEvents</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// When 'oneEvent' is triggered, we fire functionCallBackName</span>
  <span class="nx">ls</span><span class="p">.</span><span class="nx">eventDispatcher</span><span class="p">.</span><span class="nx">eventSubscribe</span><span class="p">(</span><span class="s1">'oneEvent'</span><span class="p">,</span> <span class="nx">functionCallBackName</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<p>Abra o console e faça um teste clicando nos botões abaixo:</p>
<p>
  <a href="javascript: ls.eventDispatcher.trigger('eventTest')" class="ls-btn">Evento de teste</a>
  <a href="javascript: ls.eventDispatcher.trigger('noEventTest')" class="ls-btn">Botão sem evento</a>
</p>

</section>

<script type="text/javascript">
  window.onload = function() {
    function eventFunctionTest() {
      console.log('Event Function Test called by trigger eventTest');
    }

    function registerFunctionTest() {
      ls.eventDispatcher.eventSubscribe('eventTest', eventFunctionTest)
    }
    registerFunctionTest()
  }
</script>
  </div>
</div>

<footer class="doc-footer">
  <div class="container">
   <ul class="doc-social-link">
      <!-- <li> <a href="" class="doc-social-facebook">facebook</a> </li> -->
      <li> <a target="_blank" class="doc-social-twitter" href="http://twitter.com/locawebdevnet">twitter</a> </li>
    </ul>
    <a href="http://locaweb.com.br/" class="doc-logo-footer"><img src="/locawebstyle/assets/images/docs/locaweb-logo.png" alt=""></a>
    <p class="doc-copyright">
      Copyright © 1997-2015 Serviços de Internet S/A.
    </p>
  </div>
</footer>

<script src="../../../assets/javascripts/libs/jquery-2.1.0.min.js" type="text/javascript"></script><script src="../../../assets/javascripts/locastyle.js" type="text/javascript"></script><script src="../../../assets/javascripts/docs.js" type="text/javascript"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51cdc3552ecf7080"></script>
</body>
</html>

